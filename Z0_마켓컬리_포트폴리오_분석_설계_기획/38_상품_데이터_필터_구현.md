관리자(MyAdmin) 상품 데이터_정렬_필터_구현  & 분석 & 기획 & 설계

http://gksmf519.dothome.co.kr/myadmin
gksmf519
ming0303!


[1] 프론트앤드
    * 컴포넌트 구성
    * 부모컴포넌트 > 자식컴포넌트 연동
    * 상품 목록 => 필터[카테고리, 브랜드, 가격, 헤택, 유형, 특정상품제외] => 필터상품 목록 => 목록 출력 
    - Sub1Component.jsx
    - Sub2Component.jsx
    - Sub3omponent.jsx
        - Submenu.jsx   
        - ProductList.jsx
  

```js
   // 상품 필터 이벤트

     // 상품 => 필터 => 필터상품 목록 구현
    React.useEffect(()=>{
        let 필터상품 = [];
        if(state.필터.length > 0){  // 필터 목록이 있으면

            state.상품.map((item)=>{
                state.필터.map((item2)=>{
                    
                    // 1. 조건 => 카테고리
                    if(item.카테고리 === item2){ // 100% 일치한것만 비교
                        return 필터상품 = [...필터상품, item];  // 조건 => 카테고리:국반찬...해당 데이터를 저장
                    }

                    // 2-1. 조건 => 브랜드.가나다순 [제품명] => 일부문자열 비교 => includes()
                    // 2-2. 조건 => 브랜드.상품많은순 [제품명] => 일부문자열 비교
                    if(item.제품명.includes(item2)){ 
                        return 필터상품 = [...필터상품, item];  // 조건 => 카테고리:국반찬...해당 데이터를 저장
                    }

                    // 3. 조건 => 정가 => 가격.가격범위, 가격.가격 0 ~ 5900
                    //    복잡한 조건
                    //    3-1. 옵션 => 단일상품 그리고 다중상품 조건에 따라 비교문이 다르다.
                    //    3-2. 서브메뉴 속성중 가격범위[]를 반복문을 사용 필터 item2 와 비교한다
                    ///   3-3  단일상품은 바로 서브메뉴 속성중 가격으로  상품정보 정가와 비교한다.
                    if(item.옵션==="단일상품"){
                        state.서브메뉴.가격.map((item3)=>{
                            if(item2.includes(item3.가격범위)){
                                // 0 ~ 5900 원 미만 범위 조건문
                                // 5900 ~ 9900 원 미만 범위 조건문
                                // 9900 ~ 17900 원 미만 범위 조건문
                                // 1790 ~ 10000000000000 원 미만 범위 조건문
                                if(item.정가 >= item3.가격[0]  &&  item.정가 < item3.가격[1] ){
                                    return 필터상품 = [...필터상품, item];
                                }
                            }
                        })
                    }
                    //    3-4. 다중상품은 정가 배열을 반복문 item4 으로 돌린다.
                    //    3-5. 그리고 상품 데이터 item.정가[상품명, 정가] item4.정가 를 이용 비교한다.
                    //    3-6. 일단 필터에 가격.가격범위 => 들어있는 숫자의 범위는 문자열로 되어있어 포함된 내용인 상태에서
                    //    3-7. 해당 정가를 가격.가격 0 ~ 5900 실제 비교 가능한 배열 숫자데이터로 비교한다.
                    else if(item.옵션==="다중상품"){
                        item.정가.map((item4)=>{
                            state.서브메뉴.가격.map((item3)=>{                                
                                if(item2.includes(item3.가격범위)){                                    
                                    if(item4.정가 >= item3.가격[0]  &&  item4.정가 < item3.가격[1] ){
                                        return 필터상품 = [...필터상품, item];
                                    }
                                }
                            })
                        })
                    }
                   
                    // 4. 조건 => 헤택 => 할인상품, 한정수량
                    if(item.혜택 === item2){
                        return 필터상품 = [...필터상품, item];
                    }

                    // 5. 조건 => 유형 =>  Kurly Only, 희소가치 프로젝트
                    if(item.유형 === item2){
                        return 필터상품 = [...필터상품, item];
                    }

                    // 6. 조건 => 특정상품제외 =>  반려동물 상품
                    if(item.특정상품제외 === item2){
                        return 필터상품 = [...필터상품, item];
                    }




                });
                
            });
        }
        else{   // 필터 목록이 없으면 => 상품 전체 목록을 저장
            필터상품 = state.상품;
        }

        setState({
            ...state,
            필터상품: 필터상품
        })
    }, [state.필터]);



    // 1. 추천순 [문자열] {...추천: 추천상품 }=> 정렬(Sort) : 오름차순(Ascending) 어센딩  
    // 정렬(Sort) 구현(a, b) => 상택관리 변수 상품을 이용 오름차순 (문자열)
    const onClickOrder1=(e)=>{
        e.preventDefault();
        setState({
            ...state,
            상품: 상품.sort((a, b)=> (a.추천 < b.추천) ? (-1) : ((a.추천 > b.추천) ? (1) : (0)) ),
            is추천순: true,
            is신상품순: false,
            is판매량순: false,
            is혜택순: false,
            is낮은가격순: false,
            is높은가격순: false
        })
    }

    // 2. 신상품순 => 제조일시 [문자열] {...제조일시: '2023-09-03 23:30:00' }=> 내림차순(Descending) 디센딩 최근 날짜 기준 
    // 정렬(Sort) 구현(a, b) => 상택관리 변수 상품을 이용 오름차순 (문자열)
    const onClickOrder2=(e)=>{
        e.preventDefault();
        setState({
            ...state,
            상품: 상품.sort((a, b)=> (b.제조일시 < a.제조일시) ? (-1) : ((b.제조일시 > a.제조일시) ? (1) : (0)) ),
            is추천순: false,
            is신상품순: true,
            is판매량순: false,
            is혜택순: false,
            is낮은가격순: false,
            is높은가격순: false
        })
    }

    // 3. 판매량 [숫자] {...판매량: 150 }=> 정렬(Sort) : 내림차순(Descending) 디센딩 판매량: 숫자
    // 정렬(Sort) 구현(a, b) => 상택관리 변수 상품을 이용 오름차순 (숫자)
    const onClickOrder3=(e)=>{
        e.preventDefault();
        setState({
            ...state,
            상품: 상품.sort((a, b)=> b.판매량 - a.판매량),
            is추천순: false,
            is신상품순: false,
            is판매량순: true,
            is혜택순: false,
            is낮은가격순: false,
            is높은가격순: false
        })  
    }

    // 4. 혜택순 [숫자] {...할인율: 150 }=> 정렬(Sort) : 내림차순(Descending) 디센딩
    const onClickOrder4=(e)=>{
        e.preventDefault();
        setState({
            ...state,
            상품: 상품.sort((a, b)=> b.할인율 - a.할인율),
            is추천순: false,
            is신상품순: false,
            is판매량순: false,
            is혜택순: true,
            is낮은가격순: false,
            is높은가격순: false
        })   
    }


    // 5. 정가 [숫자] {...정가: 59000 }=> 정렬(Sort) : 오름차순(Ascending) 어센딩
    const onClickOrder5=(e)=>{
        e.preventDefault();
        setState({
            ...state,
            상품: 상품.sort((a, b)=> a.정가 - b.정가),
            is추천순: false,
            is신상품순: false,
            is판매량순: false,
            is혜택순: false,
            is낮은가격순: true,
            is높은가격순: false
        })  
    }

    // 6. 정가 [숫자] {...정가: 59000 }=> 정렬(Sort) : 내림차순(Descending) 디센딩
    const onClickOrder6=(e)=>{
        e.preventDefault();
        setState({
            ...state,
            상품: 상품.sort((a, b)=> b.정가 - a.정가),
            is추천순: false,
            is신상품순: false,
            is판매량순: false,
            is혜택순: false,
            is낮은가격순: false,
            is높은가격순: true
        })  
    }

```
    
[2] 백앤드 : 
    - JSON

    - 테스트 URL
    http://gksmf519.dothome.co.kr/kurly_green/


[3] 데이터베이스
    - 관리자 자주하는 질문 테이블

    ```MYSQL        


    ```


[4] REST API 
    










